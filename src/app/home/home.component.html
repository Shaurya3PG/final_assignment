<div id="container mt-3">
    <table class="table table-dark">
        <thead>
            <th>SNo</th>
            <th>Item</th>
            <th>Quantity</th>
        </thead>
        <tbody id="tbody1"></tbody>
    </table>
</div>

<script type="module">

    import { getDatabase, ref, child, onValue, get } from "@angular/fire/database"
    db = getDatabase();

    var sNo = 0;
    var tbody = document.getElementById('tbody1');

    function AddItemToTable(item, quantity) {
        let trow = document.createElement("tr");
        let td1 = document.createElement('td');
        let td2 = document.createElement('td');
        let td3 = document.createElement('td');

        td1.innerHTML = ++sNo;
        td2.innerHTML = item;
        td3.innerHTML = quantity;

        trow.appendChild(td1);
        trow.appendChild(td2);
        trow.appendChild(td3);

        tbody.appendChild(trow);
    }

    function AddAllItems(anyItem) {
        sNo = 0;
        tbody.innerHTML = "";
        Items.forEach(element => {
            AddItemToTable(element.item , element.quantity);
        });
    }

    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-analytics.js";

    const firebaseConfig = {
        apiKey: "AIzaSyBAjWrv859Jy8uyEAh-gkr1RRLFKQFxScY",
        authDomain: "myshop-a342c.firebaseapp.com",
        databaseURL: "https://myshop-a342c-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "myshop-a342c",
        storageBucket: "myshop-a342c.appspot.com",
        messagingSenderId: "927396011554",
        appId: "1:927396011554:web:4bf20b400be242267ab47b",
        measurementId: "G-3XHF29TYLX"
    };

    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    function GetAllData() {
        const dbRef = ref(db);

        get(child(dbRef, "Items"))
            .then((snapshot) => {
                var items = [];
                snapshot.forEach(childSnapshot => {
                    items.push(childSnapshot.val());
                });

                AddAllItems(items);
            })
    }
    function GetAllDataRealtime() {
        const dbRef = ref(db, "Items");

        onValue(dbRef, (snapshot)=>{
            var items = [];
                snapshot.forEach(childSnapshot => {
                    items.push(childSnapshot.val());
                });

                AddAllItems(items);
        })
    }

    window.onload = GetAllDataRealtime;
</script>